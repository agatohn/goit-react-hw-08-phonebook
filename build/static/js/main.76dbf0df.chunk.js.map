{"version":3,"sources":["redux/authorization/operations.js","redux/authorization/slice.js","redux/authorization/selectors.js","redux/store.js","routes/PublicRoute.js","routes/PrivateRoute.js","components/authNav/AuthNavigation.js","components/navigation/Navigation.js","components/menu/Menu.js","components/header/Header.js","components/App.js","index.js","components/authNav/AuthNavigation.module.css","components/navigation/Navigation.module.css","components/menu/Menu.module.css","redux/phonebook/phonebook-actions.js","redux/phonebook/phonebook-selectors.js","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-reducers.js"],"names":["axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","rejectWithValue","post","data","message","logIn","logOut","_","refreshCurrentUser","getState","state","persistedToken","auth","get","operations","authSlice","createSlice","name","initialState","user","email","isLoggedIn","isRefreshingUser","error","extraReducers","authOperations","pending","fulfilled","action","payload","rejected","authSelectors","getIsLoggedIn","getUserName","getIsRefreshingUser","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contacts","contactsReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","devTools","process","persistor","persistStore","PublicRoute","children","restricted","redirectTo","routeProps","shouldRedirect","useSelector","to","PrivateRoute","AuthNavigation","className","style","nav","activeClassName","activeNav","exact","Navigation","Menu","dispatch","useDispatch","userName","userWrapper","Button","color","variant","size","logBtn","type","onClick","Header","theme","createTheme","ThemeProvider","CssBaseline","AppBar","position","elevation","sx","borderBottom","palette","divider","Toolbar","flexWrap","justifyContent","HomePage","lazy","RegPage","LoginPage","PhonebookPage","App","useEffect","fallback","height","width","timeout","path","ReactDOM","render","StrictMode","loading","document","getElementById","module","exports","contactsActions","getContactsRequest","createAction","getContactsSuccess","getContactsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","changeFilter","getContacts","getFilter","filter","getVisibleContacts","createSelector","normilizedFilter","toLowerCase","contact","includes","contactsSelectors","contactsOperations","getContact","then","catch","addContact","number","some","toLocaleLowerCase","deleteContact","contactId","delete","createReducer","alert","id","combineReducers"],"mappings":"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","file":"static/js/main.76dbf0df.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { createAsyncThunk } from \"@reduxjs/toolkit\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = \"\";\n  },\n};\n\nconst register = createAsyncThunk(\n  \"auth/register\",\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/signup\", credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst logIn = createAsyncThunk(\n  \"auth/login\",\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post(\"/users/login\", credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst logOut = createAsyncThunk(\n  \"auth/logout\",\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post(\"/users/logout\");\n\n      token.unset();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst refreshCurrentUser = createAsyncThunk(\n  \"auth/refresh\",\n  async (_, { rejectWithValue, getState }) => {\n    const state = getState();\n    const persistedToken = state.auth.token;\n\n    if (persistedToken === null) {\n      return rejectWithValue();\n    }\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get(\"/users/current\");\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  refreshCurrentUser,\n};\nexport default operations;\n","import { createSlice } from \"@reduxjs/toolkit\";\nimport authOperations from \"./operations\";\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  isLoggedIn: false,\n  isRefreshingUser: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  extraReducers: {\n    [authOperations.register.pending](state) {\n      state.error = null;\n    },\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n      // state.error = null;\n    },\n    [authOperations.register.rejected](state, action) {\n      state.error = action.payload;\n    },\n    [authOperations.logIn.pending](state) {\n      state.error = null;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n      // state.error = null;\n    },\n    [authOperations.logIn.rejected](state, action) {\n      state.error = action.payload;\n    },\n    [authOperations.logOut.pending](state) {\n      state.error = null;\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.isRefreshingUser = false;\n      // state.error = null;\n    },\n    [authOperations.logOut.rejected](state, action) {\n      state.error = action.payload;\n    },\n    [authOperations.refreshCurrentUser.pending](state) {\n      state.isRefreshingUser = true;\n    },\n    [authOperations.refreshCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isRefreshingUser = false;\n    },\n    [authOperations.refreshCurrentUser.rejected](state) {\n      state.isRefreshingUser = false;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n","const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nconst getUserName = state => state.auth.user.name;\n\nconst getIsRefreshingUser = state => state.auth.isRefreshingUser;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsRefreshingUser\n};\n\nexport default authSelectors;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from \"redux-persist\";\n// import logger from \"redux-logger\";\nimport storage from \"redux-persist/lib/storage\";\nimport { contactsReducer } from \"./phonebook\";\nimport { authReducer } from \"./authorization\";\n\nconst middleware = (getDefaultMiddleware) =>\n  getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  });\n// .concat(logger);\n\nconst authPersistConfig = {\n  key: \"auth\",\n  storage,\n  whitelist: [\"token\"],\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: contactsReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV === \"development\",\n});\n\nconst persistor = persistStore(store);\n\nexport { store, persistor };\n","import { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/authorization\";\n\nexport default function PublicRoute({ children, restricted = false, redirectTo = \"/\", ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirect = isLoggedIn && restricted;\n  return <Route {...routeProps}>{shouldRedirect ? <Redirect to={redirectTo} /> : children}</Route>;\n}\n","import { useSelector } from \"react-redux\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { authSelectors } from \"../redux/authorization\";\n\nexport default function PrivateRoute({ children, redirectTo = \"/\", ...routeProps }) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return <Route {...routeProps}>{isLoggedIn ? children : <Redirect to={redirectTo} />}</Route>;\n}\n","import { NavLink } from \"react-router-dom\";\nimport style from \"./AuthNavigation.module.css\";\n\nconst AuthNavigation = () => {\n  return (\n    <>\n      <NavLink\n        className={style.nav}\n        activeClassName={style.activeNav}\n        to=\"/register\"\n        exact\n      >\n        Sign Up\n      </NavLink>\n      <NavLink\n        className={style.nav}\n        activeClassName={style.activeNav}\n        to=\"/login\"\n        exact\n      >\n        Sign In\n      </NavLink>\n    </>\n  );\n};\n\nexport default AuthNavigation;\n","import { useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport { authSelectors } from \"../../redux/authorization\";\nimport style from \"./Navigation.module.css\";\n\nconst Navigation = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav>\n      <NavLink\n        className={style.nav}\n        activeClassName={style.activeNav}\n        to=\"/\"\n        exact\n      >\n        Home\n      </NavLink>\n      {isLoggedIn && (\n        <NavLink\n          className={style.nav}\n          activeClassName={style.activeNav}\n          to=\"/phonebook\"\n          exact\n        >\n          Phonebook\n        </NavLink>\n      )}\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import { Button } from \"@material-ui/core\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authOperations, authSelectors } from \"../../redux/authorization\";\nimport style from \"./Menu.module.css\";\n\nconst Menu = () => {\n  const dispatch = useDispatch();\n  const userName = useSelector(authSelectors.getUserName);\n  const logout = () => {\n    dispatch(authOperations.logOut());\n  };\n  return (\n    <div className={style.userWrapper}>\n      <span className={style.userName}>Log in as: {userName}</span>\n      <Button\n        color=\"secondary\"\n        variant=\"contained\"\n        size=\"small\"\n        className={style.logBtn}\n        type=\"button\"\n        onClick={logout}\n      >\n        logout\n      </Button>\n    </div>\n  );\n};\n\nexport default Menu;\n","import { useSelector } from \"react-redux\";\nimport { authSelectors } from \"../../redux/authorization\";\nimport AuthNavigation from \"../authNav/AuthNavigation\";\nimport Navigation from \"../navigation/Navigation\";\nimport Menu from \"../menu/Menu\";\n// import style from \"./Header.module.css\";\nimport AppBar from \"@mui/material/AppBar\";\n// import Box from \"@mui/material/Box\";\n// import Button from \"@mui/material/Button\";\n// import Card from \"@mui/material/Card\";\n// import CardActions from \"@mui/material/CardActions\";\n// import CardContent from \"@mui/material/CardContent\";\n// import CardHeader from \"@mui/material/CardHeader\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\n// import Grid from \"@mui/material/Grid\";\n// import StarIcon from \"@material-ui/icons/StarBorder\";\nimport Toolbar from \"@mui/material/Toolbar\";\n// import Typography from \"@mui/material/Typography\";\n// import Link from \"@mui/material/Link\";\n// import GlobalStyles from \"@mui/material/GlobalStyles\";\n// import Container from \"@mui/material/Container\";\nimport { createTheme, ThemeProvider } from \"@mui/material/styles\";\n\nexport default function Header() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const theme = createTheme();\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <AppBar\n          position=\"static\"\n          color=\"default\"\n          elevation={0}\n          sx={{\n            borderBottom: (theme) => `1px solid ${theme.palette.divider}`,\n          }}\n        >\n          <Toolbar sx={{ flexWrap: \"wrap\", justifyContent: \"space-between\" }}>\n            <Navigation /> {isLoggedIn ? <Menu /> : <AuthNavigation />}\n          </Toolbar>\n        </AppBar>\n      </ThemeProvider>\n    </>\n  );\n}\n","// import React from \"react\";\nimport { lazy, Suspense, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { authSelectors, authOperations } from \"../redux/authorization\";\nimport PublicRoute from \"../routes/PublicRoute\";\nimport PrivateRoute from \"../routes/PrivateRoute\";\nimport { Switch } from \"react-router\";\nimport Header from \"./header/Header\";\nimport Loader from \"react-loader-spinner\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nconst HomePage = lazy(\n  () => import(\"../pages/homePage/HomePage\") /*webpackChunkName: 'HomePage' */\n);\nconst RegPage = lazy(\n  () => import(\"../pages/regPage/RegPage\") /*webpackChunkName: 'RegPage' */\n);\nconst LoginPage = lazy(\n  () =>\n    import(\"../pages/loginPage/LoginPage\") /*webpackChunkName: 'LoginPage' */\n);\nconst PhonebookPage = lazy(() =>\n  import(\"../pages/phonebookPage/PhonebookPage\")\n);\n\nexport default function App() {\n  const dispatch = useDispatch();\n  const isRefreshingUser = useSelector(authSelectors.getIsRefreshingUser);\n\n  useEffect(() => {\n    dispatch(authOperations.refreshCurrentUser());\n  }, [dispatch]);\n\n  return (\n    !isRefreshingUser && (\n      <>\n        <Header />\n        <Switch>\n          <Suspense\n            fallback={\n              <div>\n                <Loader\n                  className=\"Loader\"\n                  type=\"ThreeDots\"\n                  color=\"#00BFFF\"\n                  height={20}\n                  width={100}\n                  timeout={3000}\n                />\n              </div>\n            }\n          >\n            <PublicRoute exact path=\"/\">\n              <HomePage />\n            </PublicRoute>\n\n            <PublicRoute path=\"/register\" restricted>\n              <RegPage />\n            </PublicRoute>\n\n            <PublicRoute path=\"/login\" restricted redirectTo=\"/phonebook\">\n              <LoginPage />\n            </PublicRoute>\n\n            <PrivateRoute path=\"/phonebook\" restricted redirectTo=\"/login\">\n              <PhonebookPage />\n            </PrivateRoute>\n          </Suspense>\n        </Switch>\n      </>\n    )\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport { store, persistor } from \"./redux/store\";\nimport { PersistGate } from \"redux-persist/integration/react\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"AuthNavigation_nav__PXa_x\",\"activeNav\":\"AuthNavigation_activeNav__2h5av\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navigation_nav__1XtRS\",\"activeNav\":\"Navigation_activeNav__2Y6gK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"Menu_userWrapper__2T7kl\",\"userName\":\"Menu_userName__CEOEd\",\"logBtn\":\"Menu_logBtn__1x3ZW\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nconst getContactsRequest = createAction(\"contacts/getContactsRequest\");\nconst getContactsSuccess = createAction(\"contacts/getContactsSuccess\");\nconst getContactsError = createAction(\"contacts/getContactsError\");\n\nconst addContactRequest = createAction(\"contacts/addContactRequest\");\nconst addContactSuccess = createAction(\"contacts/addContactSuccess\");\nconst addContactError = createAction(\"contacts/addContactError\");\n\nconst deleteContactRequest = createAction(\"contacts/deleteContactRequest\");\nconst deleteContactSuccess = createAction(\"contacts/deleteContactSuccess\");\nconst deleteContactError = createAction(\"contacts/deleteContactError\");\n\nconst changeFilter = createAction(\"contacts/filter\");\n\nconst contactsActions = {\n  getContactsRequest,\n  getContactsSuccess,\n  getContactsError,\n  addContactRequest,\n  addContactSuccess,\n  addContactError,\n  deleteContactRequest,\n  deleteContactSuccess,\n  deleteContactError,\n  changeFilter,\n};\n\nexport default contactsActions;\n","import { createSelector } from \"@reduxjs/toolkit\";\n\nconst getContacts = state => state.contacts.contacts;\n\nconst getFilter = state => state.contacts.filter;\n\nconst getVisibleContacts = createSelector(\n  [getContacts, getFilter],\n  (contacts, filter) => {\n    const normilizedFilter = filter.toLowerCase();\n    return contacts.filter(contact => contact.name.toLowerCase().includes(normilizedFilter));\n  }\n);\n\nconst contactsSelectors = { getContacts, getFilter, getVisibleContacts };\n\nexport default contactsSelectors;\n","import axios from \"axios\";\nimport contactsActions from \"./phonebook-actions\";\n\nconst addContact =\n  ({ name, number }) =>\n  (dispatch, getState) => {\n    const contact = { name, number };\n    const contacts = getState().contacts.contacts;\n\n    if (\n      contacts?.some(\n        (contact) =>\n          contact.name.toLocaleLowerCase() === name.toLocaleLowerCase() ||\n          contacts.some((contact) => contact.number === number)\n      )\n    ) {\n      return dispatch(\n        contactsActions.addContactError(\n          `Name: ${name} or number: ${number} is alredy exist`\n        )\n      );\n    }\n    dispatch(contactsActions.addContactRequest());\n\n    axios\n      .post(\"/contacts\", contact)\n      .then(({ data }) => dispatch(contactsActions.addContactSuccess(data)))\n      .catch((error) => dispatch(contactsActions.addContactError(error)));\n  };\n\nconst deleteContact = (contactId) => (dispatch) => {\n  dispatch(contactsActions.deleteContactRequest());\n\n  axios\n    .delete(`/contacts/${contactId}`)\n    .then(() => dispatch(contactsActions.deleteContactSuccess(contactId)))\n    .catch((error) => dispatch(contactsActions.deleteContactError(error)));\n};\n\nconst getContact = () => (dispatch) => {\n  dispatch(contactsActions.getContactsRequest());\n  axios\n    .get(\"/contacts\")\n    .then(({ data }) => dispatch(contactsActions.getContactsSuccess(data)))\n    .catch((error) => dispatch(contactsActions.getContactsError(error)));\n};\n\nconst contactsOperations = { getContact, addContact, deleteContact };\nexport default contactsOperations;\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport contactsActions from \"./phonebook-actions\";\nimport { authOperations } from \"../authorization\";\n\nconst contacts = createReducer([], {\n  [contactsActions.getContactsSuccess]: (_, { payload }) => payload,\n  [contactsActions.addContactSuccess]: (state, { payload }) => [\n    ...state,\n    payload,\n  ],\n  [contactsActions.addContactError]: (_, { payload }) => alert(payload),\n  [contactsActions.deleteContactSuccess]: (state, { payload }) =>\n    state.filter(({ id }) => id !== payload),\n  [authOperations.logOut.fulfilled]: () => [],\n});\n\nconst filter = createReducer(\"\", {\n  [contactsActions.changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [contactsActions.getContactsRequest]: () => true,\n  [contactsActions.getContactsSuccess]: () => false,\n  [contactsActions.getContactsError]: () => false,\n  [contactsActions.addContactRequest]: () => true,\n  [contactsActions.addContactSuccess]: () => false,\n  [contactsActions.addContactError]: () => false,\n  [contactsActions.deleteContactRequest]: () => true,\n  [contactsActions.deleteContactSuccess]: () => false,\n  [contactsActions.deleteContactError]: () => false,\n});\n\nconst error = createReducer(null, {\n  [contactsActions.getContactsError]: (_, { payload }) => payload,\n  [contactsActions.addContactError]: (_, { payload }) => payload,\n  [contactsActions.deleteContactError]: (_, { payload }) => payload,\n  [contactsActions.getContactsSuccess]: () => null,\n  [contactsActions.addContactSuccess]: () => null,\n  [contactsActions.deleteContactSuccess]: () => null,\n});\n\nexport default combineReducers({\n  contacts,\n  filter,\n  loading,\n  error,\n});\n"],"sourceRoot":""}